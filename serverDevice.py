import os
import subprocess

ALL_DEVICES = {
    "ce0917197c2000a30c7e": 1,
    "ce091719e995043a017e": 2,
    "ce0418244958386d0d7e": 3,
    "ce07171785df74160b7e": 4,
    "ce0817182dc3de22017e": 5,
    "ce081718431fbf2a057e": 6,
    "ce071717d811a4f00b7e": 7,
    "ce0817181b24b8670b7e": 8,
    "ce071717f5b4c628047e": 9,
    "ce0817181c30601b0d7e": 10,
    "ce071717c4dc40990d7e": 11,
    "ce0917191a0310970c7e": 12,
    "ce071717f583c126047e": 13,
    "ce0717177541c8300c7e": 14,
    "ce071717d95b9cda0b7e": 15,
    "ce071717d17060950c7e": 16,
    "ce09171980e61505037e": 17,
    "ce0917191be39123057e": 18,
    "ce07171774f108af0c7e": 19,
    "ce0917196ba948230c7e": 20,

    "ce091719f5e02a1d047e": 21,
    "ce0917197b18303d0c7e": 22,
    "ce061716e52784260d7e": 23,
    "ce091719b3c59a1b027e": 24,
    "ce0917196852383f0c7e": 25,
    "ce061716e5405b12017e": 26,
    "ce091719885f84730c7e": 27,
    "ce071717fded9cc40c7e": 28,
    "ce0917196a0740490c7e": 29,
    "ce0917195a63a0420c7e": 30,
    "ce0817189afb0c2d057e": 31,
    "ce071717904c4303027e": 32,
    "ce0817181c2c88360d7e": 33,
    "ce0917196858583f0c7e": 34,
    "ce071717884fdc930d7e": 35,
    "ce091719b5a9b634027e": 36,
    "ce091719a3b83c290c7e": 37,
    "ce0917197b20a0f50c7e": 38,
    "ce091719f2aaef0d047e": 39,
    "ce0917191b30384e0c7e": 40,

    "ce0917191a95d330017e": 41,
    "ce0917191b0240200c7e": 42,
    "ce081718fb3a5f0c027e": 43,
    "ce071717fa29ed04047e": 44,
    "ce071717ca1590540c7e": 45,
    "ce071717905aa40e027e": 46,
    "ce081718409e344a0b7e": 47,
    "ce081718fa58573b027e": 48,
    "ce071717f19560d10b7e": 49,
    "ce071717888f68e20b7e": 50,
    "ce0817182d896705017e": 51,
    "ce091719c81d850a047e": 52,
    "ce0917198a03706f0c7e": 53,
    "ce0917191ad028080c7e": 54,
    "ce0817181c1e5c870d7e": 55,
    "ce0817182070d502027e": 56,
    "ce071717c9af28d70d7e": 57,
    "ce061716e5ac246f0c7e": 58,
    "ce0917198964e45d0c7e": 59,
    "ce081718299dbf19057e": 60,

    "ce071717f9b1301b047e": 61,
    "ce091719b3978e3e027e": 62,
    "ce071717d819b4310b7e": 63,
    "ce081718214014e10c7e": 64,
    "ce0817189b129839057e": 65,
    "ce08171809053c390b7e": 66,
    "ce04182449e9294a1c7e": 67,
    "ce0817181c18b43d0d7e": 68,
    "ce091719ed6974dd0d7e": 69,
    "ce071717ea85ce15047e": 70,
    "ce081718d13b3c850b7e": 71,
    "ce071717d49b0924017e": 72,
    "ce081718fa19e402027e": 73,
    "ce081718fb6f9924027e": 74,
    "ce081718744e7b39027e": 75,
    "ce0917195adbb0380c7e": 76,
    "ce091719b52064920d7e": 77,
    "ce071717f8006a3f047e": 78,
    "ce0817182198e20d027e": 79,
    "ce081718f9d5631c027e": 80,

    "ce0917192014ad2c057e": 81,
    "ce0917191a00347a0c7e": 82,
    "ce081718f9ba4c14027e": 83,
    "ce0917196b0cd86d0c7e": 84,
    "ce081718219c783d027e": 85,
    "ce091719ec915c3d047e": 86,
    "ce0917191af68a19017e": 87,
    "ce091719c4902c840c7e": 88,
    "ce08171869a8e82f0b7e": 89,
    "ce08171820d8bc810c7e": 90,
    "ce08171822a0b205057e": 91,
    "ce09171989c5682e0c7e": 92,
    "ce071717f9274903057e": 93,
    "ce071717753788bb0c7e": 94,
    "ce0917196a532ced0c7e": 95,
    "ce091719b4f41a1b027e": 96,
    "ce091719412ce4100b7e": 97,
    "ce0817185487de3e017e": 98,
    "ce071717f5b4a62a047e": 99,
    "ce081718745cb440027e": 100,

    "ce081718409884100b7e": 101,
    "ce10171a08eba336047e": 102,
    "ce071717d056105c0d7e": 103,
    "ce081718fac08308027e": 104,
    "ce0917196b9858070c7e": 105,
    "ce081718bd50713d057e": 106,
    "ce091719b3800d31027e": 107,
    "ce031823ca9209c41e7e": 108,
    "ce0917196ad754420c7e": 109,
    "ce091719b409a136027e": 110,
    "ce04182449dd347b1c7e": 111,
    "ce091719b4f0ab23027e": 112,
    "ce091719b44c0819027e": 113,
    "ce081718218de41d027e": 114,
    "ce08171854834f37017e": 115,
    "ce0917197ca4048a0c7e": 116,
    "ce08171873e99835047e": 117,
    "ce10171a08f2dd10047e": 118,
    "ce091719b4f42236027e": 119,
    "ce041824455300171c7e": 120,

    "ce061716e480e312017e": 121,
    "ce091719412ce4190b7e": 122,
    "ce091719eb97c006047e": 123,
    "ce031713a24648870c7e": 124,
    "ce091719ac31dc130d7e": 125,
    "ce071717f5b9bb39047e": 126,
    "ce071717f9310a36057e": 127,
    "ce0817180c6768090d7e": 128,
    "ce071717f8006e29047e": 129,
    "ce0917198a0374710c7e": 130,
    "ce091719f39e7f3c047e": 131,
    "ce0917197ca130fc0c7e": 132,
    "ce0817181be950d60d7e": 133,
    "ce08171844496c010d7e": 134,
    "ce091719b3c1b108027e": 135,
    "ce081718f9e7ed29027e": 136,
    "ce071717732a24f80c7e": 137,
    "ce081718fa486536027e": 138,
    "ce091719c8de460b057e": 139,
    "ce091719e8481630017e": 140,

    "ce071717ea24df2b047e": 141,
    "ce071717f0b7d8820b7e": 142,
    "ce0917191a2a2cba0c7e": 143,
    "ce0817181bec20f30d7e": 144,
    "ce10171a3a364c420b7e": 145,
    "ce0917192cb40c5f0c7e": 146,
    "ce0917196b0cd8d30c7e": 147,
    "ce04182449e928781c7e": 148,
    "ce091719b5df6434027e": 149,
    "ce081718bd507e1d057e": 150,
    "ce081718f193ee16037e": 151,
    "ce09171982279b23047e": 152,
    "ce081718214018220c7e": 153,
    "ce091719b1870e17057e": 154,
    "ce091719b5429d0f027e": 155,
    "ce07171789746339027e": 156,
    "ce061716eae47ccd0d7e": 157,
    "ce081718f0dfd02d047e": 158,
    "ce0418244810802b1c7e": 159,
    "ce081718f8a934260d7e": 160,

    "ce081718f00a5204047e": 161,
    "ce071717ed86c23e047e": 162,
    "ce071717ea45d51b057e": 163,
    "ce0817182d81da12017e": 164,
    "ce09171935079c210c7e": 165,
    "ce0917196af7b8440c7e": 166,
    "ce091719684f28660c7e": 167,
    "ce07171788698915037e": 168,
    "ce091719abe3d0b10d7e": 169,
    "ce0118210c3bcd11037e": 170,
    "ce081718fa404e19027e": 171,
    "ce061716e42c6925017e": 172,
    "ce08171869a35cee0b7e": 173,
    "ce091719c40928b70c7e": 174,
    "ce0917197cc1248a0c7e": 175,
    "ce07171774ef20b10c7e": 176,
    "ce071717f5539016057e": 177,
    "ce09171984f04628037e": 178,
    "ce0817181c426cc20d7e": 179,
    "ce091719f0e700880d7e": 180,

    "ce071717ed86ca13047e": 181,
    "ce071717fddd30920c7e": 182,
    "ce09171980eaac770c7e": 183,
    "ce09171988435cf40c7e": 184,
    "ce061716e5ac20520c7e": 185,
    "ce091719e918b83b017e": 186,
    "ce071717fdeb18360c7e": 187,
    "ce071717d12fd4a20c7e": 188,
    "ce031823c2d6ddd91e7e": 189,
    "ce07171775d974170c7e": 190,
    "ce091719c454bcdc0c7e": 191,
    "ce0917197b2640920c7e": 192,
    "ce09171911c19911017e": 193,
    "ce0917191b35c84b0c7e": 194,
    "ce0917195c2308ed0c7e": 195,
    "ce09171920197820057e": 196,
    "ce091719b34ec70c027e": 197,
    "ce071717d476a025047e": 198,
    "ce091719a3b3b4050c7e": 199,
    "ce031823c42d7cf41e7e": 200,

    "ce071717e8800f37047e": 201,
    "ce091719c4a1048f0c7e": 202,
    "ce091719b405cb24027e": 203,
    "ce091719f120acf80d7e": 204,
    "ce071717fa38800e047e": 205,
    "ce12171cc12a7207017e": 206,
    "ce091719edc5904b0d7e": 207,
    "ce051825cc27c41f0d7e": 208,
    "ce091719895420070c7e": 209,
    "ce071717ea945a1d047e": 210,
    "ce081718206d5611027e": 211,
    "ce0917196a1550900c7e": 212,
    "ce0917197c4140a00c7e": 213,
    "ce091719e853302b017e": 214,
    "ce091719c3e914490c7e": 215,
    "ce081718fad0331a027e": 216,
    "ce031823b4158ccd0c7e": 217,
    "ce091719880fac0b0c7e": 218,
    "ce081718219cdf1d027e": 219,
    "ce071717ed790c14047e": 220,

    "98891a304254304a58": 221,
    "988995454d44444545": 222,
    "98891a4557514c5159": 223,
    "988a1b3649374b3534": 224,
    "988995384c46433352": 225,
    "9889db483831503538": 226,
    "9889943951344f5458": 227,
    "9889db48344d303855": 228,
    "98899a304d48454150": 229,
    "98895444554c414d56": 230,
    "9889db345536495441": 231,
    "9889db394c314b4d4b": 232,
    "988919413431554251": 233,
    "988b51354551543145": 234,
    "98899a443753533638": 235,
    "98899542505a573953": 236,
    "9889d5333651424639": 237,
    "98891a3031514c3045": 238,
    "988b1a4637355a5759": 239,
    "9889d5305a4b37594c": 240,
}


class Device:
    def __init__(self, id, title):
        self.id = id
        self.title = title


def get_adb_devices():
    result = subprocess.run(['adb', 'devices'], stdout=subprocess.PIPE)
    lines = result.stdout.decode('utf-8').splitlines()
    devices = []
    for line in lines[1:]:  # The first line of `adb devices` is a header
        if not line.strip():  # Skip empty lines
            continue
        parts = line.split('\t')
        if len(parts) == 2:
            title = ALL_DEVICES[parts[0]]
            device = Device(parts[0], title)
            devices.append(device)
    return devices


if __name__ == '__main__':
    os.environ['ADB_SERVER_SOCKET'] = 'tcp:192.168.203.164:5037'
    devices = get_adb_devices()
    devices.sort(key=lambda x: x.title)
    for device in devices:
        print(device.title, device.id)
